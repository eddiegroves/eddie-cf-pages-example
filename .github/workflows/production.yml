name: Deploy to Cloudflare Pages
on:
  push:
    branches:
      - main
jobs:
  deploy:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Build
        run: make build
      - id: foo
        uses: eddiegroves/cloudflare-pages-deploy-action@2ddd95f91f2f48f3eebb0753b1b7b86fa97b9ca3
        with:
          cloudflare-publish-directory: dist/
          cloudflare-branch: production
          cloudflare-pages-project-name: eddie-cf-pages-example
          cloudflare-account-id: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          cloudflare-api-token: ${{ secrets.CLOUDFLARE_API_TOKEN }}
